import React from 'react';
import styled from 'styled-components';
import { useSpring, animated } from 'react-spring';

import { AnimFeDisplacementMap, AnimFeTurbulence } from '../../Filters/Filters';
import { useInput } from '../../../hooks/useInput';
import { DrawerWrapper } from '../../UserInterface/';

const Wrapper = styled.div`background: linear-gradient(45deg, #686192, #456);`;

function Water() {
  //
  const { value, setValue } = useInput(false);

  const { freq, scale, transform, opacity, translateX } = useSpring({
    reverse: value,
    from: { translateX: 'translate(0px,50px)', scale: 10, opacity: 0, transform: 'scale(0.9)', freq: '0.0175, 0.0' },
    to: { translateX: 'translate(500px,50px)', scale: 150, opacity: 1, transform: 'scale(1)', freq: '0.0, 0.0' },
    config: { duration: 3000 }
  });
  //
  console.log('value', value);
  return (
    <Wrapper>
      <header style={{ display: 'flex', justifyContent: 'center' }}>
        <h2> A watery effect</h2>
        <button onClick={() => setValue(prev => !prev)}>Toggle</button>
        <DrawerWrapper />
      </header>
      <animated.svg style={{ transform, opacity }} viewBox="0 0 1278 446">
        <defs>
          <filter id="water">
            <AnimFeTurbulence type="fractalNoise" baseFrequency={freq} numOctaves={1} result="TURB" seed="8" />
            <AnimFeDisplacementMap
              xChannelSelector="R"
              yChannelSelector="G"
              in="SourceGraphic"
              in2="TURB"
              result="DISP"
              scale={scale}
            />
          </filter>
        </defs>
        <g filter="url(#water)">
          <path
            d="M485.83,309.152c-29.119-13.398-66.946-39.251-98.545-88.874l-0.018,0.015c0,0,0-0.007,0-0.015   c0-80.66-60.461-148.5-140.581-157.755L69.509,42.052c-5.796-0.667-11.371,2.407-13.905,7.652   c-2.527,5.256-1.465,11.538,2.671,15.652c26.013,25.894,45.076,65.264,52.623,111.179c-25.926-34.006-74.736-63.061-108.694-62.981   c-0.932-0.015-1.77,0.573-2.081,1.45c-0.309,0.877-0.025,1.849,0.707,2.421c13.71,10.741,22.587,27.358,22.62,46.131   c0.04,16.189-6.503,30.795-17.099,41.409c-4.057,4.064-6.326,9.574-6.318,15.312c0.018,5.746,2.309,11.241,6.379,15.287   c10.625,10.559,17.211,25.139,17.255,41.329c0.029,18.767-8.758,35.413-22.403,46.218c-0.732,0.573-1.015,1.548-0.71,2.426   c0.309,0.884,1.127,1.471,2.077,1.471c33.894-0.08,82.479-29.235,108.307-63.263c-7.522,46.026-26.6,85.51-52.664,111.447   c-4.136,4.118-5.216,10.403-2.679,15.656c2.534,5.256,8.116,8.323,13.912,7.652l123.29-14.25   c2.955,21.373-2.414,43.54-6.815,56.778c-0.91,2.77-0.29,5.818,1.631,7.997c1.924,2.182,4.854,3.197,7.71,2.657   c32.766-6.268,63.535-48.875,81.221-78.212c39.527-6.286,126.468-20.746,206.519-38.512c5.734-1.272,10.016-6.068,10.643-11.908   C494.335,317.206,491.166,311.606,485.83,309.152z"
            fill="lightblue"
          />

          <animated.path
            style={{ translateX }}
            d="M485.83,309.152c-29.119-13.398-66.946-39.251-98.545-88.874l-0.018,0.015c0,0,0-0.007,0-0.015   c0-80.66-60.461-148.5-140.581-157.755L69.509,42.052c-5.796-0.667-11.371,2.407-13.905,7.652   c-2.527,5.256-1.465,11.538,2.671,15.652c26.013,25.894,45.076,65.264,52.623,111.179c-25.926-34.006-74.736-63.061-108.694-62.981   c-0.932-0.015-1.77,0.573-2.081,1.45c-0.309,0.877-0.025,1.849,0.707,2.421c13.71,10.741,22.587,27.358,22.62,46.131   c0.04,16.189-6.503,30.795-17.099,41.409c-4.057,4.064-6.326,9.574-6.318,15.312c0.018,5.746,2.309,11.241,6.379,15.287   c10.625,10.559,17.211,25.139,17.255,41.329c0.029,18.767-8.758,35.413-22.403,46.218c-0.732,0.573-1.015,1.548-0.71,2.426   c0.309,0.884,1.127,1.471,2.077,1.471c33.894-0.08,82.479-29.235,108.307-63.263c-7.522,46.026-26.6,85.51-52.664,111.447   c-4.136,4.118-5.216,10.403-2.679,15.656c2.534,5.256,8.116,8.323,13.912,7.652l123.29-14.25   c2.955,21.373-2.414,43.54-6.815,56.778c-0.91,2.77-0.29,5.818,1.631,7.997c1.924,2.182,4.854,3.197,7.71,2.657   c32.766-6.268,63.535-48.875,81.221-78.212c39.527-6.286,126.468-20.746,206.519-38.512c5.734-1.272,10.016-6.068,10.643-11.908   C494.335,317.206,491.166,311.606,485.83,309.152z"
            fill="lightblue"
          />
        </g>
      </animated.svg>
      ({/*<animated.svg style={{ transform, opacity }} viewBox="0 0 1278 446">
        <defs>
          <filter id="water">
            <AnimFeTurbulence type="fractalNoise" baseFrequency={freq} numOctaves={1} result="TURB" seed="8" />
            <AnimFeDisplacementMap
              xChannelSelector="R"
              yChannelSelector="G"
              in="SourceGraphic"
              in2="TURB"
              result="DISP"
              scale={scale}
            />
          </filter>
        </defs>
        <g filter="url(#water)">
          <animated.path
            d="M179.53551,113.735463 C239.115435,113.735463 292.796357,157.388081 292.796357,245.873118 L292.796357,415.764388 L198.412318,415.764388 L198.412318,255.311521 C198.412318,208.119502 171.866807,198.681098 151.220299,198.681098 C131.753591,198.681098 94.5898754,211.658904 94.5898754,264.749925 L94.5898754,415.764388 L0.205836552,415.764388 L0.205836552,0.474616471 L94.5898754,0.474616471 L94.5898754,151.489079 C114.646484,127.893069 145.321296,113.735463 179.53551,113.735463 Z M627.269795,269.469127 C627.269795,275.95803 626.679895,285.396434 626.089994,293.065137 L424.344111,293.065137 C432.012815,320.790448 457.378525,340.257156 496.901841,340.257156 C520.497851,340.257156 554.712065,333.768254 582.437376,322.560149 L608.392987,397.47748 C608.392987,397.47748 567.09997,425.202792 494.54224,425.202792 C376.562192,425.202792 325.240871,354.414762 325.240871,269.469127 C325.240871,183.343692 377.152092,113.735463 480.974535,113.735463 C574.178773,113.735463 627.269795,171.545687 627.269795,269.469127 Z M424.344111,236.434714 L528.166554,236.434714 C528.166554,216.378105 511.649347,189.242694 476.255333,189.242694 C446.17042,189.242694 424.344111,216.378105 424.344111,236.434714 Z M659.714308,0.474616471 L754.098347,0.474616471 L754.098347,415.764388 L659.714308,415.764388 L659.714308,0.474616471 Z M810.13887,0.474616471 L904.522909,0.474616471 L904.522909,415.764388 L810.13887,415.764388 L810.13887,0.474616471 Z M1097.42029,113.735463 C1191.80433,113.735463 1257.87315,183.343692 1257.87315,269.469127 C1257.87315,355.594563 1192.98413,425.202792 1097.42029,425.202792 C997.727148,425.202792 936.967423,355.594563 936.967423,269.469127 C936.967423,183.343692 996.547347,113.735463 1097.42029,113.735463 Z M1097.42029,340.257156 C1133.9941,340.257156 1163.48912,308.402543 1163.48912,269.469127 C1163.48912,230.535711 1133.9941,198.681098 1097.42029,198.681098 C1060.84647,198.681098 1031.35146,230.535711 1031.35146,269.469127 C1031.35146,308.402543 1060.84647,340.257156 1097.42029,340.257156 Z"
            fill="lightblue"
          />
        </g>
  </animated.svg>*/})
    </Wrapper>
  );
}

export default Water;
